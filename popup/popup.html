<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuckIt Focus</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo-row">
                <div class="logo">DUCKIT</div>
                <a class="help-btn" href="https://vish-dumps.github.io/Duckit--how-it-works-page/" target="_blank"
                    rel="noopener noreferrer" aria-label="How DuckIt works">?</a>
            </div>
            <div class="status-badge" id="focusStatusBadge">FOCUS OFF</div>
        </header>

        <!-- Main Interface -->
        <main class="focus-interface">
            <!-- Radial Guides (Visual only) -->
            <div class="radial-guide"></div>

            <!-- Central Button -->
            <div class="focus-button-container" id="focusButtonContainer">
                <button id="mainFocusBtn" class="focus-circle-btn">
                    <img id="focusIcon" src="../icons/FOCUS OFF.png" alt="Focus Mode">
                    <div class="focus-button-text" id="focusButtonText">FOCUS OFF</div>
                    <div class="glow-ring"></div>
                </button>
            </div>

            <!-- Radial Style Selectors -->
            <!-- Arranged in a circle -->
            <div class="orbit-container">
                <button class="orbit-dot" data-style="normal" style="--angle: 0deg;">
                    <span class="dot-indicator"></span>
                    <span class="dot-label">Normal</span>
                </button>
                <button class="orbit-dot" data-style="muffle" style="--angle: 72deg;">
                    <span class="dot-indicator"></span>
                    <span class="dot-label">Muffle</span>
                </button>
                <button class="orbit-dot" data-style="far_away" style="--angle: 144deg;">
                    <span class="dot-indicator"></span>
                    <span class="dot-label">Far Away</span>
                </button>
                <button class="orbit-dot" data-style="voice_band" style="--angle: 216deg;">
                    <span class="dot-indicator"></span>
                    <span class="dot-label">Voice Band</span>
                </button>
                <button class="orbit-dot" data-style="focus_background" style="--angle: 288deg;">
                    <span class="dot-indicator"></span>
                    <span class="dot-label">Deep Focus</span>
                </button>
            </div>
        </main>

        <!-- Secondary Controls (Glass Card) -->
        <section class="controls-card">
            <div class="focus-mode-label" id="focusModeLabel">Focus mode: Normal</div>
            <div class="control-row">
                <div class="info-group">
                    <div class="music-status">
                        <img id="statusFavicon" src="" class="hidden" alt="icon">
                        <div class="text-col">
                            <div id="statusTitle" class="status-title">No Music</div>
                            <div id="statusSubtitle" class="status-subtitle">Select a tab</div>
                        </div>
                    </div>
                </div>
                <button id="setMusicBtn" class="action-btn-small">Set Tab</button>
            </div>

            <div class="divider"></div>

            <div class="control-row">
                <span class="label">Priority Ducking</span>
                <label class="switch-mini">
                    <input type="checkbox" id="toggleAgent">
                    <span class="slider round"></span>
                </label>
            </div>

            <!-- Ducking Modes (Hidden by default or shown in expanded settings? 
                 User asked to keep features. We'll make them compact.) -->
            <div class="mode-pills">
                <label class="mode-pill">
                    <input type="radio" name="mode" value="mute">
                    <span>Mute</span>
                </label>
                <label class="mode-pill">
                    <input type="radio" name="mode" value="pause">
                    <span>Pause</span>
                </label>
                <label class="mode-pill">
                    <input type="radio" name="mode" value="volume">
                    <span>Vol</span>
                </label>
            </div>

            <div id="volumeControl" class="vol-slider-row hidden">
                <input type="range" id="volSlider" min="0" max="100" value="30">
                <span id="volValue">30%</span>
            </div>
        </section>

        <!-- Hidden originals for logic compatibility if needed, though we replaced them -->
        <!-- We will map new IDs to old logic in JS -->
    </div>
    <div id="toast" class="toast hidden">Notification</div>
    <script src="popup.js" type="module"></script>
</body>

</html>
